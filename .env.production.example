# Production environment (backend)
NODE_ENV=production
HOST=0.0.0.0
PORT=4000

# PostgreSQL (use managed database)
DB_HOST=your-db-host
DB_PORT=5432
DB_NAME=appcoran
DB_USER=appcoran_user
DB_PASSWORD=change_me
DB_ADMIN_DATABASE=postgres

# Auth
JWT_SECRET=change_me
JWT_EXPIRES_IN=1h
REFRESH_TOKEN_SECRET=change_me_refresh

# CORS (set to your frontend domain)
CORS_ORIGIN=https://appcoran.com
PUBLIC_APP_URL=https://appcoran.com
TRUST_PROXY=loopback

# Uploads (mount volume)
UPLOAD_DIR=./uploads
PROFILE_UPLOAD_DIR=./uploads/profiles
BASMALA_PATH=./assets/default/basmala_default.mp3

# FFmpeg
FFMPEG_REQUIRED=true
FFMPEG_PATH=ffmpeg
FFPROBE_PATH=ffprobe

# Limits & rate limit
MAX_UPLOAD_MB=50
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=100
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX=10

# Automation
AUTO_MIGRATE=false
AUTO_SEED=false

# Seed users (optional)
ADMIN_EMAIL=imam@example.com
ADMIN_PASSWORD=ChangeMe123!
SUPER_ADMIN_EMAIL=superadmin@appcoran.com
SUPER_ADMIN_PASSWORD=cfmlbttjn

# Registration
ALLOW_PUBLIC_REGISTRATION=false

# Storage
KEEP_ORIGINAL_AUDIO=true

# Redis / Audio queue
REDIS_URL=redis://redis:6379
AUDIO_QUEUE_ENABLED=true
AUDIO_QUEUE_CONCURRENCY=2
AUDIO_QUEUE_PREFIX=appcoran
AUDIO_QUEUE_ATTEMPTS=3
AUDIO_QUEUE_BACKOFF_MS=5000
AUDIO_QUEUE_JOB_TIMEOUT_MS=600000
AUDIO_QUEUE_REMOVE_ON_FAIL=false

# Async audio processing (queue required)
AUDIO_PROCESSING_ASYNC=true

# Audio encoding
AUDIO_TARGET_BITRATE_KBPS=128
AUDIO_VBR_QUALITY=2
AUDIO_LOUDNORM=true
AUDIO_MAX_DURATION_SECONDS=0

# DigitalOcean Spaces / S3 (optional)
SPACES_ENABLED=false
SPACES_ENDPOINT=https://nyc3.digitaloceanspaces.com
SPACES_REGION=nyc3
SPACES_BUCKET=your-bucket
SPACES_ACCESS_KEY_ID=change_me
SPACES_SECRET_ACCESS_KEY=change_me
SPACES_PUBLIC_BASE_URL=https://your-bucket.nyc3.digitaloceanspaces.com

# Antivirus (ClamAV)
VIRUS_SCAN_ENABLED=false
VIRUS_SCAN_AUTO=true
VIRUS_SCAN_TOOL=clamscan
VIRUS_SCAN_TIMEOUT_MS=60000
